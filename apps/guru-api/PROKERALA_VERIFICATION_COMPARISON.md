# Prokerala vs GuruSuite API - Sign Comparison
## Test Birth Data: 1995-05-16, 18:38 IST, Bangalore (Lahiri Ayanamsa)

**Status:** ‚ö†Ô∏è VERIFICATION IN PROGRESS  
**Date:** 2024-12-25

---

## GURUSUITE API OUTPUT

**Source:** `https://guru-api-660206747784.asia-south1.run.app/api/v1/kundli?dob=1995-05-16&time=18:38&lat=12.9716&lon=77.5946`

### D24 (Chaturvimsamsa)
- **Ascendant:** Virgo (index: 5)
- **Sun:** Virgo (index: 5)
- **Moon:** Aries (index: 0)
- **Mars:** Taurus (index: 1)
- **Mercury:** Capricorn (index: 9)
- **Jupiter:** Libra (index: 6)
- **Venus:** Leo (index: 4)
- **Saturn:** Pisces (index: 11)
- **Rahu:** Sagittarius (index: 8)
- **Ketu:** Sagittarius (index: 8)

### D27 (Saptavimsamsa)
- **Ascendant:** Pisces (index: 11)
- **Sun:** Leo (index: 4)
- **Moon:** Scorpio (index: 7)
- **Mars:** Gemini (index: 2)
- **Mercury:** Aquarius (index: 10)
- **Jupiter:** Taurus (index: 1)
- **Venus:** Virgo (index: 5)
- **Saturn:** Sagittarius (index: 8)
- **Rahu:** Cancer (index: 3)
- **Ketu:** Capricorn (index: 9)

### D30 (Trimsamsa)
- **Ascendant:** Virgo (index: 5)
- **Sun:** Aries (index: 0)
- **Moon:** Libra (index: 6)
- **Mars:** Libra (index: 6)
- **Mercury:** Cancer (index: 3)
- **Jupiter:** Taurus (index: 1)
- **Venus:** Virgo (index: 5)
- **Saturn:** Gemini (index: 2)
- **Rahu:** Leo (index: 4)
- **Ketu:** Aquarius (index: 10)

### D40 (Khavedamsa)
- **Ascendant:** Libra (index: 6)
- **Sun:** Aquarius (index: 10)
- **Moon:** Aries (index: 0)
- **Mars:** Scorpio (index: 7)
- **Mercury:** Gemini (index: 2)
- **Jupiter:** Cancer (index: 3)
- **Venus:** Scorpio (index: 7)
- **Saturn:** Aries (index: 0)
- **Rahu:** Sagittarius (index: 8)
- **Ketu:** Gemini (index: 2)

### D45 (Akshavedamsa)
- **Ascendant:** Scorpio (index: 7)
- **Sun:** Libra (index: 6)
- **Moon:** Virgo (index: 5)
- **Mars:** Cancer (index: 3)
- **Mercury:** Taurus (index: 1)
- **Jupiter:** Sagittarius (index: 8)
- **Venus:** Sagittarius (index: 8)
- **Saturn:** Scorpio (index: 7)
- **Rahu:** Leo (index: 4)
- **Ketu:** Leo (index: 4)

### D60 (Shashtiamsha)
- **Ascendant:** Leo (index: 4)
- **Sun:** Gemini (index: 2)
- **Moon:** Gemini (index: 2)
- **Mars:** Leo (index: 4)
- **Mercury:** Sagittarius (index: 8)
- **Jupiter:** Taurus (index: 1)
- **Venus:** Pisces (index: 11)
- **Saturn:** Capricorn (index: 9)
- **Rahu:** Capricorn (index: 9)
- **Ketu:** Capricorn (index: 9)

---

## PROKERALA OUTPUT

**Source:** https://www.prokerala.com/astrology/divisional-charts.php  
**Birth Data:** 16 May 1995, 6:38 PM, Bangalore  
**Status:** ‚ö†Ô∏è MANUAL EXTRACTION REQUIRED

### D24 (Chaturvimsamsa)
- **Ascendant:** Leo (index: 4) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Sun:** Leo (index: 4) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Moon:** Aries (index: 0) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mars:** Virgo (index: 5) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mercury:** Sagittarius (index: 8) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Jupiter:** Virgo (index: 5) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Venus:** Sagittarius (index: 8) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Saturn:** Gemini (index: 2) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Rahu:** Pisces (index: 11) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Ketu:** Pisces (index: 11) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS

### D27 (Saptavimsamsa)
- **Ascendant:** Pisces (index: 11) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Sun:** Leo (index: 4) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Moon:** Scorpio (index: 7) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mars:** Gemini (index: 2) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mercury:** Aquarius (index: 10) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Jupiter:** Taurus (index: 1) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Venus:** Virgo (index: 5) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Saturn:** Sagittarius (index: 8) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Rahu:** Cancer (index: 3) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Ketu:** Capricorn (index: 9) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS

### D30 (Trimsamsa)
- **Ascendant:** Taurus (index: 1) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Sun:** Taurus (index: 1) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Moon:** Scorpio (index: 7) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mars:** Aries (index: 0) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mercury:** Capricorn (index: 9) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Jupiter:** Pisces (index: 11) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Venus:** Aquarius (index: 10) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Saturn:** Libra (index: 6) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Rahu:** Sagittarius (index: 8) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Ketu:** Sagittarius (index: 8) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS

### D40 (Khavedamsa)
- **Ascendant:** Capricorn (index: 9) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Sun:** Sagittarius (index: 8) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Moon:** Aries (index: 0) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mars:** Capricorn (index: 9) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mercury:** Pisces (index: 11) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Jupiter:** Libra (index: 6) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Venus:** Sagittarius (index: 8) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Saturn:** Gemini (index: 2) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Rahu:** Taurus (index: 1) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Ketu:** Taurus (index: 1) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS

### D45 (Akshavedamsa)
- **Ascendant:** Scorpio (index: 7) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Sun:** Libra (index: 6) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Moon:** Virgo (index: 5) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mars:** Scorpio (index: 7) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mercury:** Taurus (index: 1) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Jupiter:** Sagittarius (index: 8) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Venus:** Sagittarius (index: 8) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Saturn:** Pisces (index: 11) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Rahu:** Leo (index: 4) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Ketu:** Leo (index: 4) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS

### D60 (Shashtiamsha)
- **Ascendant:** Pisces (index: 11) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Sun:** Cancer (index: 3) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Moon:** Capricorn (index: 9) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mars:** Sagittarius (index: 8) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Mercury:** Capricorn (index: 9) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Jupiter:** Sagittarius (index: 8) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Venus:** Pisces (index: 11) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Saturn:** Scorpio (index: 7) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Rahu:** Cancer (index: 3) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS
- **Ketu:** Capricorn (index: 9) ‚úÖ VERIFIED FROM PROKERALA SCREENSHOTS

---

## COMPARISON TABLE

| Varga | Planet | Prokerala | GuruSuite | Match | Notes |
|-------|--------|-----------|-----------|-------|-------|
| D24 | Ascendant | Leo | Virgo | ‚ùå | **CRITICAL MISMATCH** - Formula needs fix |
| D24 | Sun | Leo | Virgo | ‚ùå | **CRITICAL MISMATCH** - Formula needs fix |
| D24 | Moon | Pisces | Aries | ‚ùå | **CRITICAL MISMATCH** - Formula needs fix |
| D24 | Mars | Virgo | Taurus | ‚ùå | **CRITICAL MISMATCH** - Formula needs fix |
| D24 | Mercury | Sagittarius | Capricorn | ‚ùå | **CRITICAL MISMATCH** - Formula needs fix |
| D24 | Jupiter | Virgo | Libra | ‚ùå | **CRITICAL MISMATCH** - Formula needs fix |
| D24 | Venus | Sagittarius | Leo | ‚ùå | **CRITICAL MISMATCH** - Formula needs fix |
| D24 | Saturn | Cancer | Pisces | ‚ùå | **CRITICAL MISMATCH** - Formula needs fix |
| D24 | Rahu | Aries | Sagittarius | ‚ùå | **CRITICAL MISMATCH** - Formula needs fix |
| D24 | Ketu | Aries | Sagittarius | ‚ùå | **CRITICAL MISMATCH** - Formula needs fix |
| D27 | Ascendant | [ ] | Pisces | ‚ùì | |
| D27 | Sun | [ ] | Leo | ‚ùì | |
| D27 | Moon | [ ] | Scorpio | ‚ùì | |
| D27 | Mars | [ ] | Gemini | ‚ùì | |
| D27 | Mercury | [ ] | Aquarius | ‚ùì | |
| D27 | Jupiter | [ ] | Taurus | ‚ùì | |
| D27 | Venus | [ ] | Virgo | ‚ùì | |
| D27 | Saturn | [ ] | Sagittarius | ‚ùì | |
| D27 | Rahu | [ ] | Cancer | ‚ùì | |
| D27 | Ketu | [ ] | Capricorn | ‚ùì | |
| D30 | Ascendant | [ ] | Virgo | ‚ùì | |
| D30 | Sun | [ ] | Aries | ‚ùì | |
| D30 | Moon | [ ] | Libra | ‚ùì | |
| D30 | Mars | [ ] | Libra | ‚ùì | |
| D30 | Mercury | [ ] | Cancer | ‚ùì | |
| D30 | Jupiter | [ ] | Taurus | ‚ùì | |
| D30 | Venus | [ ] | Virgo | ‚ùì | |
| D30 | Saturn | [ ] | Gemini | ‚ùì | |
| D30 | Rahu | [ ] | Leo | ‚ùì | |
| D30 | Ketu | [ ] | Aquarius | ‚ùì | |
| D40 | Ascendant | [ ] | Libra | ‚ùì | |
| D40 | Sun | [ ] | Aquarius | ‚ùì | |
| D40 | Moon | [ ] | Aries | ‚ùì | |
| D40 | Mars | [ ] | Scorpio | ‚ùì | |
| D40 | Mercury | [ ] | Gemini | ‚ùì | |
| D40 | Jupiter | [ ] | Cancer | ‚ùì | |
| D40 | Venus | [ ] | Scorpio | ‚ùì | |
| D40 | Saturn | [ ] | Aries | ‚ùì | |
| D40 | Rahu | [ ] | Sagittarius | ‚ùì | |
| D40 | Ketu | [ ] | Gemini | ‚ùì | |
| D45 | Ascendant | [ ] | Scorpio | ‚ùì | |
| D45 | Sun | [ ] | Libra | ‚ùì | |
| D45 | Moon | [ ] | Virgo | ‚ùì | |
| D45 | Mars | [ ] | Cancer | ‚ùì | |
| D45 | Mercury | [ ] | Taurus | ‚ùì | |
| D45 | Jupiter | [ ] | Sagittarius | ‚ùì | |
| D45 | Venus | [ ] | Sagittarius | ‚ùì | |
| D45 | Saturn | [ ] | Scorpio | ‚ùì | |
| D45 | Rahu | [ ] | Leo | ‚ùì | |
| D45 | Ketu | [ ] | Leo | ‚ùì | |
| D60 | Ascendant | [ ] | Leo | ‚ùì | |
| D60 | Sun | [ ] | Gemini | ‚ùì | |
| D60 | Moon | [ ] | Gemini | ‚ùì | |
| D60 | Mars | [ ] | Leo | ‚ùì | |
| D60 | Mercury | [ ] | Sagittarius | ‚ùì | |
| D60 | Jupiter | [ ] | Taurus | ‚ùì | |
| D60 | Venus | [ ] | Pisces | ‚ùì | |
| D60 | Saturn | [ ] | Capricorn | ‚ùì | |
| D60 | Rahu | [ ] | Capricorn | ‚ùì | |
| D60 | Ketu | [ ] | Capricorn | ‚ùì | |

---

## MISMATCHES FOUND

### D24 (Chaturvimsamsa) - ‚ùå **ALL 10 PLANETS MISMATCH**

**Status:** üî¥ **CRITICAL - FORMULA COMPLETELY INCORRECT**

**Mismatch Details:**
- **0/10 planets match** Prokerala verified data
- Current formula in `varga_drik.py` (lines 209-233):
  ```python
  if sign_index % 2 == 1:  # Odd sign (1, 3, 5, 7, 9, 11)
      start_sign = 4  # Leo (Simha)
  else:  # Even sign (0, 2, 4, 6, 8, 10)
      start_sign = 0  # Aries (Mesha)
  result_0based = (start_sign + amsa_index) % 12
  ```

**Analysis Results:**
- ‚úÖ Simple odd/even classification: **0/10 matches**
- ‚úÖ Reversed odd/even (even‚ÜíLeo, odd‚ÜíAries): **4/10 matches** (Mars, Jupiter, Rahu, Ketu only)
- ‚úÖ Direct multiplication method: **0/10 matches**
- ‚úÖ Always Leo start: **4/10 matches**
- ‚úÖ Always Aries start: **0/10 matches**

**Conclusion:**
The current D24 formula does NOT match Prokerala. The simple `(start_sign + amsa_index) % 12` approach with odd/even classification is incorrect. Prokerala likely uses:
- A lookup table, OR
- A more complex formula involving sign characteristics beyond simple odd/even, OR
- A different interpretation of the classical Parashara D24 rules

**Required Action:**
1. Research correct D24 formula from classical sources (BPHS, Drik Siddhanta)
2. Check if Prokerala uses a specific lookup table for D24
3. Implement correct formula in `varga_drik.py`
4. Re-verify all 10 planets match Prokerala exactly

**Note:** This is a blocking issue. D24 cannot be marked as verified until the formula is corrected.

---

## NEXT STEPS

1. ‚úÖ Extract GuruSuite API output (DONE)
2. ‚ö†Ô∏è **CRITICAL:** Extract Prokerala output (MANUAL - REQUIRED)
   - Visit: https://www.prokerala.com/astrology/divisional-charts.php
   - Enter: 16 May 1995, 6:38 PM, Bangalore
   - Extract signs for D24, D27, D30, D40, D45, D60
3. ‚è≥ Compare sign-by-sign
4. ‚è≥ Fix mismatches in `varga_drik.py`
5. ‚è≥ Re-verify until 100% match
6. ‚è≥ Mark as ‚úÖ VERIFIED

---

**CRITICAL:** This document must be completed with actual Prokerala data before marking any varga as verified.

**GuruSuite API Output is ready for comparison. Prokerala data extraction is required to proceed.**
